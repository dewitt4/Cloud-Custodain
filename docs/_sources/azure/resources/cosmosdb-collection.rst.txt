.. _azure.cosmosdb-collection:

azure.cosmosdb-collection
=========================

CosmosDB Collection Resource

:example:

This policy will find all collections with Offer Throughput > 100

.. code-block:: yaml

    policies:
      - name: cosmosdb-high-throughput
        resource: azure.cosmosdb-collection
        filters:
          - type: offer
            key: content.offerThroughput
            op: gt
            value: 100

Filters
-------


  - :ref:`event <azure.common.filters.event>`
  
  - :ref:`offer <azure.common.filters.offer>`
  
  - :ref:`parent <azure.common.filters.parent>`
  
  - :ref:`value <azure.common.filters.value>`
  




Actions
-------


  - :ref:`logic-app <azure.common.actions.logic-app>`
  
  - :ref:`notify <azure.common.actions.notify>`
  
  - :ref:`replace-offer <azure.cosmosdb-collection.actions.replace-offer>`

  - :ref:`webhook <azure.common.actions.webhook>`
  



.. _azure.cosmosdb-collection.actions.replace-offer:

replace-offer
+++++++++++++
CosmosDB Replace Offer Action

Modify the throughput of a cosmodb collection's offer

:example:

This policy will ensure that no collections have offers with more than 400 RU/s throughput.

.. code-block:: yaml

    policies:
      - name: limit-throughput-to-400
        resource: azure.cosmosdb-collection
        filters:
          - type: offer
            key: content.offerThroughput
            op: gt
            value: 400
        actions:
          - type: replace-offer
            throughput: 400

.. container:: toggle

  

  .. raw:: html
    ‚Åü
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      throughput:
        type: number
      type:
        enum:
        - replace-offer
    required:
    - throughput
    - type

